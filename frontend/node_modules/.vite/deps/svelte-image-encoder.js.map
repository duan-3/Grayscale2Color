{
  "version": 3,
  "sources": ["../../detect-pointer-events/lib/index.js", "../../svelte-image-encoder/src/pan-zoom.ts", "../../svelte-image-encoder/src/ImgEncoder.svelte"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar prefixMap = {\n  pointerdown: 'MSPointerDown',\n  pointerup: 'MSPointerUp',\n  pointercancel: 'MSPointerCancel',\n  pointermove: 'MSPointerMove',\n  pointerover: 'MSPointerOver',\n  pointerout: 'MSPointerOut',\n  pointerenter: 'MSPointerEnter',\n  pointerleave: 'MSPointerLeave',\n  gotpointercapture: 'MSGotPointerCapture',\n  lostpointercapture: 'MSLostPointerCapture',\n  maxTouchPoints: 'msMaxTouchPoints'\n};\n\n/*\n * detectPointerEvents object structure\n * const detectPointerEvents = {\n *   hasApi: boolean,\n *   requiresPrefix: boolean,\n *   hasTouch: boolean,\n *   maxTouchPoints: number,\n *   update() {...},\n *   prefix(value) {return value, value will only have prefix if requiresPrefix === true},\n * }\n */\nvar detectPointerEvents = {\n  update: function update() {\n    if (typeof window !== 'undefined') {\n      // reference for detection https://msdn.microsoft.com/en-us/library/dn433244(v=vs.85).aspx\n      if ('PointerEvent' in window) {\n        detectPointerEvents.hasApi = true;\n        detectPointerEvents.requiresPrefix = false;\n\n        // reference for detection https://msdn.microsoft.com/library/hh673557(v=vs.85).aspx\n      } else if (window.navigator && 'msPointerEnabled' in window.navigator) {\n        detectPointerEvents.hasApi = true;\n        detectPointerEvents.requiresPrefix = true;\n      } else {\n        detectPointerEvents.hasApi = false;\n        detectPointerEvents.requiresPrefix = undefined;\n      }\n      detectPointerEvents.maxTouchPoints = detectPointerEvents.hasApi && window.navigator && window.navigator[detectPointerEvents.prefix('maxTouchPoints')] || undefined;\n      detectPointerEvents.hasTouch = detectPointerEvents.hasApi ? detectPointerEvents.maxTouchPoints > 0 : undefined;\n    }\n  },\n  prefix: function prefix(value) {\n    return detectPointerEvents.requiresPrefix && prefixMap[value] || value;\n  }\n};\n\ndetectPointerEvents.update();\nexports.default = detectPointerEvents;", "import detectPointerEvents from 'detect-pointer-events';\r\n\r\nexport interface Transform {\r\n\tgetMinScale(): number;\r\n\tgetScale(): number;\r\n\tsetScale(s: number): void; \r\n\tgetOffsetX(): number;\r\n\tgetOffsetY(): number;\r\n\tsetOffsetX(o: number): void;\r\n\tsetOffsetY(o: number): void;\r\n\tsetDragging(d: boolean): void;\r\n\tgetDragging(): boolean;\r\n}\r\n\r\n// Firefox resets some properties in stored/cached \r\n// Event objects when new events are fired so\r\n// we have to store a clone.\r\n// TODO: Should we store the original object when using Chrome?\r\nfunction iterationCopy(src: any) {\r\n\tlet target: any = {};\r\n\tfor (let prop in src) {\r\n\t\ttarget[prop] = src[prop];\r\n\t}\r\n\treturn target;\r\n}\r\n\r\nfunction updateScale(transform:Transform, s: number, x: number, y: number) {\r\n\tconst minScale = transform.getMinScale();\r\n\tconst scale = transform.getScale();\r\n\tif (s < minScale) s = minScale;\r\n\tlet offsetX = transform.getOffsetX();\r\n\tlet offsetY = transform.getOffsetY();\r\n\r\n\toffsetX = s * (offsetX + x)/scale - x;\r\n\toffsetY = s * (offsetY + y)/scale - y;\r\n\r\n\ttransform.setOffsetX(offsetX);\r\n\ttransform.setOffsetY(offsetY);\r\n\ttransform.setScale(s);\r\n}\r\n\r\nfunction simpleDragZoom(e: PointerEvent | MouseEvent, scaleOrigin: { x: number; y: number; s: number; } | null, transform: Transform) {\r\n\tif (e.shiftKey) { //scale\r\n\t\tif (!scaleOrigin)\r\n\t\t\tscaleOrigin = { x: e.offsetX, y: e.offsetY, s: transform.getScale() };\r\n\t\tupdateScale(transform, scaleOrigin.s + (scaleOrigin.y - e.offsetY) / 50, scaleOrigin.x, scaleOrigin.y);\r\n\t}\r\n\telse { //drag\r\n\t\tscaleOrigin = null;\r\n\t\tlet offsetX = transform.getOffsetX();\r\n\t\tlet offsetY = transform.getOffsetY();\r\n\t\toffsetX -= e.movementX;\r\n\t\toffsetY -= e.movementY;\r\n\t\ttransform.setOffsetX(offsetX);\r\n\t\ttransform.setOffsetY(offsetY);\r\n\t}\r\n\treturn scaleOrigin;\r\n}\r\n\r\nfunction withPointers(node: HTMLElement, transform: Transform) {\r\n\tfunction rescaleWithWheel(e: MouseWheelEvent) {\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t\tconst delta = Math.sign(e.deltaY);\r\n\t\tupdateScale(transform, transform.getScale() - delta/10, e.offsetX, e.offsetY);\r\n\t}\r\n\r\n\t// pointer event cache\r\n\tconst pointers: PointerEvent[] = [];\r\n\tfunction storeEvent(ev: PointerEvent) {\r\n\t\tfor (var i = 0; i < pointers.length; i++) {\r\n\t\t\tif (pointers[i].pointerId === ev.pointerId) {\r\n\t\t\t\tconst ev2 = iterationCopy(ev);\r\n\t\t\t\tpointers[i] = ev2;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(i === pointers.length)\r\n\t\t\tpointers.push(ev);\r\n\t}\r\n\tfunction removeEvent(ev: PointerEvent) {\r\n\t\tfor (var i = 0; i < pointers.length; i++) {\r\n\t\t\tif (pointers[i].pointerId === ev.pointerId) {\r\n\t\t\t\tpointers.splice(i, 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tlet scaleOrigin: {x: number, y: number, s: number} | null = null;\r\n\tfunction startDrag(e: PointerEvent) {\r\n\t\tnode.setPointerCapture(e.pointerId);\r\n\t\tif (!transform.getDragging()) {\r\n\t\t\tnode.addEventListener(detectPointerEvents.prefix('pointermove'), drag, true);\r\n\t\t\ttransform.setDragging(true);\r\n\t\t}\r\n\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t\tstoreEvent(e);\r\n\t}\r\n\r\n\tfunction drag(e: PointerEvent) {\r\n\t\tif (pointers.length === 1) { \r\n\t\t\tscaleOrigin = simpleDragZoom(e, scaleOrigin, transform);\r\n\t\t}\r\n\t\telse if (pointers.length === 2) { //scale\r\n\t\t\tconst x0 = pointers[0].offsetX;\r\n\t\t\tconst y0 = pointers[0].offsetY;\r\n\t\t\tconst x1 = pointers[1].offsetX;\r\n\t\t\tconst y1 = pointers[1].offsetY;\r\n\t\t\tconst x2 = e.offsetX;\r\n\t\t\tconst y2 = e.offsetY;\r\n\t\t\tconst dx = x0-x1;\r\n\t\t\tconst dy = y0-y1;\r\n\t\t\tconst l1 = Math.sqrt(dx*dx + dy*dy);\r\n\t\t\tlet dx1, dy1;\r\n\t\t\tif (e.pointerId === pointers[0].pointerId) {\r\n\t\t\t\tdx1 = x2 - x1;\r\n\t\t\t\tdy1 = y2 - y1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdx1 = x2 - x0;\r\n\t\t\t\tdy1 = y2 - y0;\r\n\t\t\t}\r\n\t\t\tvar l2 = Math.sqrt(dx1*dx1+dy1*dy1);\r\n\t\t\tupdateScale(transform, transform.getScale() * l2/l1, x2, y2); \r\n\t\t}\r\n\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t\tstoreEvent(e);\r\n\t}\r\n\tfunction stopDrag(e: PointerEvent) {\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\r\n\t\tremoveEvent(e);\r\n\r\n\t\tnode.releasePointerCapture(e.pointerId);\r\n\t\tif (pointers.length === 0) {\r\n\t\t\ttransform.setDragging(false);\r\n\t\t\tnode.removeEventListener(detectPointerEvents.prefix('pointermove'), drag, true);\r\n\t\t\tscaleOrigin = null;\r\n\t\t}\r\n\t}\r\n\r\n\tnode.addEventListener(detectPointerEvents.prefix('pointerdown'), startDrag, true);\r\n\tnode.addEventListener(detectPointerEvents.prefix('pointerup'), stopDrag, true);\r\n\tnode.addEventListener('wheel', rescaleWithWheel, true);\r\n\r\n\treturn () => {\r\n\t\tnode.removeEventListener(detectPointerEvents.prefix('pointerdown'), startDrag, true);\r\n\t\tnode.removeEventListener(detectPointerEvents.prefix('pointerup'), stopDrag, true);\r\n\t\tnode.removeEventListener('wheel', rescaleWithWheel, true);\r\n\t}\r\n}\r\n\r\nfunction withMouse(node: HTMLElement, transform: Transform) {\r\n\tfunction rescaleWithWheel(e: MouseWheelEvent) {\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t\tconst delta = Math.sign(e.deltaY);\r\n\t\tupdateScale(transform, transform.getScale() - delta/10, e.offsetX, e.offsetY);\r\n\t}\r\n\r\n\tlet scaleOrigin: {x: number, y: number, s: number} | null = null;\r\n\tfunction startDrag(e: MouseEvent) {\r\n\t\tif (typeof (<any>node).setCapture === 'function')\r\n\t\t\t(<any>node).setCapture();\r\n\t\tif (!transform.getDragging()) {\r\n\t\t\tnode.addEventListener('mousemove', drag, true);\r\n\t\t\ttransform.setDragging(true);\r\n\t\t}\r\n\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t}\r\n\r\n\tfunction drag(e: MouseEvent) {\r\n\t\tscaleOrigin = simpleDragZoom(e, scaleOrigin, transform);\r\n\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t}\r\n\tfunction stopDrag(e: MouseEvent) {\r\n\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\r\n\t\tif (typeof (<any>node).releaseCapture === 'function')\r\n\t\t\t(<any>node).releaseCapture();\r\n\t\ttransform.setDragging(false);\r\n\t\tnode.removeEventListener('mousemove', drag, true);\r\n\t\tscaleOrigin = null;\r\n\t}\r\n\r\n\tnode.addEventListener('mousedown', startDrag, true);\r\n\tnode.addEventListener('mouseup', stopDrag, true);\r\n\tnode.addEventListener('wheel', rescaleWithWheel, true);\r\n\r\n\treturn () => {\r\n\t\tnode.removeEventListener('mousedown', startDrag, true);\r\n\t\tnode.removeEventListener('mouseup', stopDrag, true);\r\n\t\tnode.removeEventListener('wheel', rescaleWithWheel, true);\r\n\t}\r\n}\r\n\r\ndeclare module process {\r\n\texport const browser: boolean;\r\n}\r\nconst usePointerEvents = process.browser && !!detectPointerEvents.maxTouchPoints;\r\nexport const panHandler = usePointerEvents ? withPointers : withMouse;\r\n", "<script>\r\n\timport { panHandler } from './pan-zoom';\r\n\timport { onMount } from 'svelte';\r\n\texport let src = '';\r\n\texport let url = '';\r\n\texport let quality = 0.5;\r\n\texport let width = 256;\r\n\texport let height = 256;\r\n\texport let realTime = false;\r\n\texport let crossOrigin = false;\r\n\texport let classes = '';\r\n\t//export let showResult = true; \r\n\t//TODO: add support for optionally showing compressed result instead of original\r\n\tpanHandler; //mentioned so that the Typescript compiler emits the import.\r\n\tlet canvas;\r\n\tlet img;\r\n\tlet ctx;\r\n\tlet offsetX = 0;\r\n\tlet offsetY = 0;\r\n\tlet scale = 1;\r\n\tlet minScale = 1;\r\n\tlet dragging = false;\r\n\t// not a POJO because getters/setters are instrumentable by Svelte\r\n\t// and `transform` is updated by imported functions\r\n\tlet transform = {\r\n\t\tgetMinScale() {\r\n\t\t\treturn minScale;\r\n\t\t},\r\n\t\tgetScale() {\r\n\t\t\treturn scale;\r\n\t\t},\r\n\t\tsetScale(s) {\r\n\t\t\tscale = s;\r\n\t\t},\r\n\t\tgetOffsetX() {\r\n\t\t\treturn offsetX;\r\n\t\t},\r\n\t\tgetOffsetY() {\r\n\t\t\treturn offsetY;\r\n\t\t},\r\n\t\tsetOffsetX(ox) {\r\n\t\t\toffsetX = ox;\r\n\t\t},\r\n\t\tsetOffsetY(oy) {\r\n\t\t\toffsetY = oy;\r\n\t\t},\r\n\t\tsetDragging(d) {\r\n\t\t\tif (!realTime && d === false)\r\n\t\t\t\turl = canvas.toDataURL('image/jpeg', quality);\r\n\t\t\tdragging = d;\r\n\t\t},\r\n\t\tgetDragging() {\r\n\t\t\treturn dragging;\r\n\t\t}\r\n\t};\r\n\tfunction redraw() {\r\n\t\tif (!img || !ctx)\r\n\t\t\treturn;\r\n\t\tif (offsetX < 0)\r\n\t\t\toffsetX = 0;\r\n\t\tif (offsetY < 0)\r\n\t\t\toffsetY = 0;\r\n\t\tlet limit = img.width * scale - width;\r\n\t\tif (offsetX > limit)\r\n\t\t\toffsetX = limit;\r\n\t\tlimit = img.height * scale - height;\r\n\t\tif (offsetY > limit)\r\n\t\t\toffsetY = limit;\r\n\t\tctx.resetTransform();\r\n\t\tctx.clearRect(0, 0, width, height);\r\n\t\tctx.translate(-offsetX, -offsetY);\r\n\t\tctx.scale(scale, scale);\r\n\t\tctx.drawImage(img, 0, 0);\r\n\t\tif (realTime || !dragging)\r\n\t\t\turl = canvas.toDataURL('image/jpeg', quality);\r\n\t}\r\n\t$: img && (img.crossOrigin = crossOrigin ? 'anonymous' : null);\r\n\t$: img && (img.src = src);\r\n\t$: quality, width, height, offsetX, offsetY, scale, redraw();\r\n\tonMount(() => {\r\n\t\tctx = canvas.getContext('2d');\r\n\t\timg = new Image();\r\n\t\timg.onload = function () {\r\n\t\t\toffsetX = 0;\r\n\t\t\toffsetY = 0;\r\n\t\t\tscale = minScale = Math.max(width / img.width, height / img.height);\r\n\t\t};\r\n\t});\r\n</script>\r\n\r\n<canvas bind:this={canvas} {width} {height} class={classes} use:panHandler={transform}></canvas>\r\n\r\n<style>\r\n\tcanvas {\r\n\t\ttouch-action: none;\r\n\t\tposition: relative;\r\n\t}\r\n</style>\r\n\r\n"],
  "mappings": "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",
  "names": ["detectPointerEvents", "detectPointerEvents", "ctx"]
}
